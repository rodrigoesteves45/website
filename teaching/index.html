<!doctype html>
<!-- This site was created with Hugo Blox. https://hugoblox.com -->
<!-- Last Published: October 2, 2025 -->
<html lang="en-us" dir="ltr" data-wc-theme-default="system">

<head>
  <!--<script src="/website/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=website/livereload" data-no-instant defer></script>-->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="Hugo Blox Builder 0.8.0" />




























  <meta name="author" content="Nuno Pombo" />






  <meta name="description" content="" />


  <link rel="alternate" hreflang="en-us" href="http://localhost:1313/website/teaching/" />






  <link rel="stylesheet" href="../css/themes/indigo.min.css" />















  <link rel="stylesheet" href="../css/entry.7c32fe8ae927b75579b60d90d18240c147b192779e9a80ba79a963e17709f2fb.css">












  <link href="../css/custom.min.00396d85737252aa247d0ed388e7cf59566a216acf8de1ee26f743faeff3beaf.css"
    rel="stylesheet" />


  <script src="../js/hb-head.min.js"></script>












































  <link rel="icon" type="image/png" href="../website/media/icon_hu_c545d605fbaba839.png" />
  <link rel="apple-touch-icon" type="image/png" href="../website/media/icon_hu_b7aec86dcb688f0.png" />

  <link rel="canonical" href="http://localhost:1313/website/teaching/" />



















  <meta property="twitter:card" content="summary" />

  <meta property="og:site_name" content="Nuno Pombo - UBI" />
  <meta property="og:url" content="http://localhost:1313/website/teaching/" />
  <meta property="og:title" content="Nuno Pombo - UBI" />
  <meta property="og:description" content="" />
  <meta property="og:image" content="http://localhost:1313/website/media/icon_hu_982c5d63a71b2961.png" />
  <meta property="twitter:image" content="http://localhost:1313/website/media/icon_hu_982c5d63a71b2961.png" />
  <meta property="og:locale" content="en-us" />


  <meta property="article:published_time" content="2022-10-24T00:00:00&#43;00:00" />

  <meta property="article:modified_time" content="2022-10-24T00:00:00&#43;00:00">









  <title>Nuno Pombo - UBI</title>










  <style>
    @font-face {
      font-family: 'Inter var';
      font-style: normal;
      font-weight: 100 900;
      font-display: swap;
      src: url(/website/dist/font/Inter.var.woff2) format(woff2);
    }
  </style>


























































































































































































  <script defer src="../js/hugo-blox-en.min.js" integrity=""></script>








































</head>

<body class="dark:bg-hb-dark dark:text-white page-wrapper" id="top">
  <div id="page-bg"></div>
  <div class="page-header sticky top-0 z-30">




    <header id="site-header" class="header">
      <nav class="navbar px-3 flex justify-start">
        <div class="order-0 h-full">

          <a class="navbar-brand" href="../" title="Nuno Pombo - UBI">
            Nuno Pombo
          </a>
        </div>

        <input id="nav-toggle" type="checkbox" class="hidden" />
        <label for="nav-toggle"
          class="order-3 cursor-pointer flex items-center lg:hidden text-dark dark:text-white lg:order-1">
          <svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20">
            <title>Open Menu</title>
            <path d="M0 3h20v2H0V3z m0 6h20v2H0V9z m0 6h20v2H0V0z"></path>
          </svg>
          <svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20">
            <title>Close Menu</title>
            <polygon points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2"
              transform="rotate(45 10 10)"></polygon>
          </svg>
        </label>




        <ul id="nav-menu" class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8 justify-start
      ">





          <li class="nav-item">
            <a class="nav-link active" href="../">Bio</a>
          </li>

          <li class="nav-item">
            <a class="nav-link active" href="../#research">Research</a>
          </li>

          <li class="nav-item">
            <a class="nav-link active" href="../#positions">Academic &amp; IT Positions</a>
          </li>

          <li class="nav-item">
            <a class="nav-link active" href="../#awards">Honors &amp; Awards</a>
          </li>

          <li class="nav-item">
            <a class="nav-link " href="./">Teaching</a>
          </li>

          <li class="nav-item">
            <a class="nav-link active" href="../contactos/">Contact &amp; Meet Me</a>
          </li>



        </ul>

        <div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0">







          <div class="px-3 text-black hover:text-primary-700 dark:text-white dark:hover:text-primary-300
            [&.active]:font-bold [&.active]:text-black/90 dark:[&.active]:text-white">
            <button class="theme-toggle mt-1" accesskey="t" title="appearance">
              <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="block dark:hidden">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
              </svg>
              <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="hidden dark:block">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
              </svg>
            </button>
          </div>







        </div>
      </nav>
    </header>





  </div>
  <div class="page-body ">




































































    <section id="teaching" class="relative hbb-section blox-markdown  wide-research">
      <div class="home-section-bg "></div>










      <div class="flex flex-col items-center max-w-prose mx-auto gap-3 justify-center px-6">

        <div class="mb-6 text-3xl font-bold text-gray-900 dark:text-white">
          Teaching
        </div>


        <div class="prose prose-slate lg:prose-xl dark:prose-invert max-w-prose">
          <p>To provide students with the knowledge necessary for their future studies and career, my teaching approach
            aims to develop both their hard and soft skills. In line with this I developed a methodology based on
            multiple and complementary challenges (nickname: <a
              href="https://ieeexplore.ieee.org/abstract/document/8725146" target="_blank" rel="noopener">Badges</a>)
            focused either on theoretical foundations or in hands-on experience. This approach raises the
            students&rsquo; motivation and participation in the classroom. In addition, you can find <a
              href="https://ieeexplore.ieee.org/abstract/document/8363336" target="_blank" rel="noopener">here</a> my
            contribution to interlink Science, Technology, Engineering and Mathematics (STEM), and Interactive Design.
            Finally, you can find <a href="https://ieeexplore.ieee.org/abstract/document/9125353" target="_blank"
              rel="noopener">here</a> challenges and perspectives on Software Engineering Education.</p>
          <div class="max-w-prose">
            <div>
              <h3 style="text-align: center; margin-bottom: 3rem; font-weight: bold; ">Current Teaching</h3>
              <ul style="list-style: none; padding: 0; border-left: 2px solid #1a73e8; padding-left: 1rem;">
                <li style="margin-bottom: 0.8rem; padding: 0.3rem; transition: transform 0.2s, color 0.2s;">
                  <span style="font-weight:bold; color:#1a73e8;">(1S - 2025/26)</span>
                  <strong>Engenharia de Software</strong><br>
                  <span>Additional information <a href="https://www.di.ubi.pt/~ngpombo/units/se.html">here</a></span>
                </li>
                <li style="margin-bottom: 1rem; padding: 0.3rem; transition: transform 0.2s, color 0.2s;">
                  <span style="font-weight:bold; color:#1a73e8;">(1S - 2025/26)</span>
                  <strong>Plataformas e ServiÃ§os X-Ops</strong><br>
                  <span>Additional information <a href="https://www.di.ubi.pt/~ngpombo/units/psx.html">here</a></span>
                </li>
                <li style="margin-bottom: 1rem; padding: 0.3rem; transition: transform 0.2s, color 0.2s;">
                  <span style="font-weight:bold; color:#1a73e8;">(2S - 2025/26)</span>
                  <strong>Qualidade de Software</strong><br>
                  <span>Additional information <a href="https://www.di.ubi.pt/~ngpombo/units/sq.html">here</a></span>
                </li>
              </ul>
            </div>
          </div>
          <div class="max-w-prose">
            <div>
              <h3 style="text-align: center; margin-bottom: 3rem; font-weight: bold; ">Current Teaching</h3>
              <ul style="list-style: none; padding: 0;">
                <li
                  style="margin-bottom: 0.8rem; padding: 0rem; border-left: 2px solid #1a73e8; transition: transform 0.2s; padding-left: 1rem; color 0.2s;">
                  Trajectory planning based on adaptive model predictive control with sensor fusion for autonomous
                  vehicles
                </li>
                <li
                  style="margin-bottom: 0.8rem; padding: 0rem; border-left: 2px solid #1a73e8; transition: transform 0.2s; padding-left: 1rem; color 0.2s;">
                  Autonomous emergency braking with sensor fusion for highway trajectory planning
                </li>
                <li
                  style="margin-bottom: 0.8rem; padding: 0rem; border-left: 2px solid #1a73e8; transition: transform 0.2s; padding-left: 1rem; color 0.2s;">
                  Towards integration of AI and software development processes into the AI system development life cycle
                </li>
                <li
                  style="margin-bottom: 0.8rem; padding: 0rem; border-left: 2px solid #1a73e8; transition: transform 0.2s; padding-left: 1rem; color 0.2s;">
                  Software engineering at the intersection with human-computer interaction
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

    </section>




  </div>
  <div class="page-footer">
    <footer
      class="container mx-auto flex flex-col justify-items-center text-sm leading-6 mt-24 mb-4 text-slate-700 dark:text-slate-200">


































      <p class="powered-by text-center">
        Â© 2025 Nuno Pombo
      </p>
















      <p class="powered-by text-center text-sm opacity-80 py-1">











        Made with <a class="underline hover:opacity-100"
          href="https://hugoblox.com?utm_source=site_footer&utm_medium=referral&utm_campaign=poweredby_oss&utm_content=brand_na"
          target="_blank" rel="noopener" data-hbx="poweredby_brand">Hugo Blox</a>.
        <a class="inline-flex items-center rounded px-2 py-0.5 border border-current ms-2 text-xs hover:opacity-100"
          href="https://hugoblox.com/start?utm_source=site_footer&amp;utm_medium=referral&amp;utm_campaign=poweredby_oss&amp;utm_content=cta_na"
          target="_blank" rel="noopener" data-hbx="poweredby_cta">Create yours â†’</a>
      </p>
    </footer>

  </div>





  <div id="hb-notification-container" class="fixed top-20 right-4 z-[9999] pointer-events-none" aria-live="polite"
    aria-atomic="true"></div>



















  <script>
    window.__HBX_LOGS__ = { "currentPage": { "buildId": "1759442238", "file": "teaching.md", "kind": "page", "layout": "", "path": "/website/teaching/", "section": "", "title": "", "type": "landing" }, "deps": [{ "path": "github.com/HugoBlox/hugo-blox-builder/starters/academic-cv", "vendor": false, "version": "" }, { "owner_path": "github.com/HugoBlox/hugo-blox-builder/starters/academic-cv", "path": "github.com/HugoBlox/hugo-blox-builder/modules/blox-plugin-netlify", "time": "2023-11-09 14:58:28 +0000 UTC", "vendor": false, "version": "v0.0.0-20231109145828-d9695efa098f" }, { "owner_path": "github.com/HugoBlox/hugo-blox-builder/starters/academic-cv", "path": "github.com/HugoBlox/hugo-blox-builder/modules/blox-tailwind", "time": "2025-09-25 20:51:54 +0000 UTC", "vendor": false, "version": "v0.0.0-20250925205154-e9b31f8090c0" }, { "owner_path": "github.com/HugoBlox/hugo-blox-builder/modules/blox-tailwind", "path": "github.com/HugoBlox/hugo-blox-builder/modules/blox-analytics", "time": "2025-08-20 00:03:08 +0000 UTC", "vendor": false, "version": "v0.2.0" }], "entries": [{ "buildId": "1759442238", "id": "", "level": "info", "message": "âœ…  Using sections from front matter for page /website/ (found 4 sections)", "page": "/", "source": { "name": "hbx/sections", "type": "partial" }, "timestamp": 1759442238 }, { "buildId": "1759442238", "id": "", "level": "info", "message": "âœ…  Using sections from front matter for page /website/contactos/ (found 1 sections)", "page": "/", "source": { "name": "hbx/sections", "type": "partial" }, "timestamp": 1759442238 }, { "buildId": "1759442238", "id": "", "level": "info", "message": "âœ…  Using sections from front matter for page /website/teaching/ (found 1 sections)", "page": "/", "source": { "name": "hbx/sections", "type": "partial" }, "timestamp": 1759442238 }], "generatedAt": "2025-10-02T21:57:18Z", "hugo": { "goVersion": "go1.25.1", "version": "0.150.1" }, "modules": { "bloxTailwind": { "path": "github.com/HugoBlox/hugo-blox-builder/modules/blox-tailwind", "version": "v0.0.0-20250925205154-e9b31f8090c0" } }, "version": 1 };
  </script>
  <script>
    (function () {
      try {
        const PLACEMENT = "\"bottom-left\"";
        const OPACITY = "1";

        const root = document.createElement('div');
        root.id = 'hbx-dev-hud-root';
        root.style.all = 'initial';
        root.style.position = 'fixed';
        root.style.zIndex = '2147483647';
        root.style.pointerEvents = 'none';
        root.style.bottom = '16px';
        if (PLACEMENT === 'bottom-right') root.style.right = '16px';
        else if (PLACEMENT === 'bottom-center') { root.style.left = '50%'; root.style.transform = 'translateX(-50%)'; }
        else root.style.left = '16px';

        const shadow = root.attachShadow({ mode: 'open' });
        const style = document.createElement('style');
        style.textContent = `
          :host { all: initial; }
          .btn { pointer-events: auto; position:relative; display:inline-flex; align-items:center; justify-content:center; width:44px; height:44px; border-radius:9999px; background:#111418; color:#e6eaf0; border:1px solid #2a2f38; box-shadow: 0 10px 20px rgba(0,0,0,.25); cursor:pointer; }
          .btn:hover { filter: brightness(1.1); }
          .badge { position:absolute; top:-4px; right:-4px; min-width:18px; height:18px; padding:0 4px; border-radius:9999px; background:#ef4444; color:white; font: 600 11px/18px system-ui, sans-serif; text-align:center; }
          .panel { pointer-events:auto; position:fixed; inset:auto auto 72px 16px; width:min(92vw, 1200px); max-height:min(80vh, 800px); background:#0d1117; color:#e6eaf0; border:1px solid #21262d; border-radius:12px; box-shadow: 0 20px 40px rgba(0,0,0,.4); overflow:hidden; display:none; }
          .panel.open { display:flex; flex-direction:column; }
          .panel-header { display:flex; align-items:center; gap:12px; padding:12px 16px; border-bottom:1px solid #21262d; background:#161b22; }
          .panel-header h2 { margin:0; font: 700 16px system-ui, sans-serif; letter-spacing:-0.01em; color:#f0f6fc; }
          .panel-header .close-btn { margin-left:auto; width:32px; height:32px; border:none; background:#21262d; color:#8b949e; border-radius:6px; cursor:pointer; font-size:16px; display:flex; align-items:center; justify-content:center; }
          .panel-header .close-btn:hover { background:#30363d; color:#f0f6fc; }
          .page-info { padding:16px; background:#0d1117; border-bottom:1px solid #21262d; }
          .page-info h3 { margin:0 0 12px 0; font: 600 14px system-ui, sans-serif; color:#f0f6fc; display:flex; align-items:center; gap:8px; }
          .page-info h3::before { content:'ðŸ”'; font-size:16px; }
          .page-meta { display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:12px; }
          .meta-item { display:flex; flex-direction:column; gap:4px; }
          .meta-label { font: 500 11px system-ui, sans-serif; color:#8b949e; text-transform:uppercase; letter-spacing:0.5px; }
          .meta-value { font: 600 13px "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", monospace; color:#79c0ff; background:#161b22; padding:6px 8px; border-radius:6px; border:1px solid #21262d; word-break:break-all; }
          .meta-value.type { color:#a5f3fc; }
          .meta-value.layout { color:#fbbf24; }
          .tabs { display:flex; background:#161b22; border-bottom:1px solid #21262d; }
          .tab { padding:12px 16px; font: 500 14px system-ui, sans-serif; color:#8b949e; cursor:pointer; border-bottom:2px solid transparent; }
          .tab:hover { color:#f0f6fc; }
          .tab.active { color:#58a6ff; border-bottom-color:#58a6ff; }
          .tab-content { flex:1; overflow:auto; }
          .env-info { padding:12px 16px; font: 500 11px system-ui, sans-serif; color:#8b949e; background:#0d1117; border-bottom:1px solid #21262d; display:flex; align-items:center; gap:16px; }
          .filters { display:flex; gap:12px; align-items:center; margin-left:auto; }
          .filters label { display:inline-flex; gap:6px; align-items:center; font: 500 12px system-ui, sans-serif; color:#c9d2e1; cursor:pointer; }
          .logs-content { overflow:auto; }
          .entry { display:grid; grid-template-columns:auto 1fr auto; gap:12px; padding:12px 16px; border-bottom:1px solid #21262d; }
          .entry:hover { background:#161b22; }
          .entry .lvl { font:700 11px system-ui, sans-serif; text-transform:uppercase; padding:4px 6px; border-radius:4px; }
          .entry.error .lvl { color:#ffffff; background:#da3633; }
          .entry.warn .lvl { color:#1f2937; background:#f59e0b; }
          .entry.info .lvl { color:#ffffff; background:#1f6feb; }
          .entry .msg { white-space:pre-wrap; word-break:break-word; font: 400 13px system-ui, sans-serif; line-height:1.5; }
          .entry .meta { color:#8b949e; font: 500 11px "SF Mono", Monaco, monospace; }
          .page-group-header { padding:12px 16px; font: 600 12px system-ui, sans-serif; color:#58a6ff; border-bottom:1px solid #21262d; background:#0d1117; }
          @media (prefers-reduced-motion:no-preference) {
            .panel { transition: all .25s cubic-bezier(0.4, 0, 0.2, 1); transform: translateY(8px) scale(0.95); opacity:0; }
            .panel.open { transform: translateY(0) scale(1); opacity:1; }
          }
        `;
        shadow.appendChild(style);

        const btnWrap = document.createElement('div');
        btnWrap.style.position = 'relative';
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.style.opacity = String(OPACITY);
        btn.setAttribute('aria-label', 'Hugo Blox Dev HUD');
        btn.textContent = 'HB';
        const badge = document.createElement('span');
        badge.className = 'badge';
        badge.hidden = true;
        btnWrap.append(btn, badge);

        const panel = document.createElement('div');
        panel.className = 'panel';


        const header = document.createElement('div');
        header.className = 'panel-header';
        const title = document.createElement('h2');
        title.textContent = 'Hugo Blox â€“ Dev Tools';
        const close = document.createElement('button');
        close.className = 'close-btn';
        close.textContent = 'Ã—';
        close.title = 'Close';
        header.append(title, close);


        const pageInfo = document.createElement('div');
        pageInfo.className = 'page-info';
        const pageTitle = document.createElement('h3');
        pageTitle.textContent = 'Current Page';
        const pageMeta = document.createElement('div');
        pageMeta.className = 'page-meta';
        pageInfo.append(pageTitle, pageMeta);


        const envInfo = document.createElement('div');
        envInfo.className = 'env-info';
        const env = document.createElement('div');
        env.textContent = '';
        const filters = document.createElement('div');
        filters.className = 'filters';
        const chkInfo = document.createElement('input');
        chkInfo.type = 'checkbox';
        chkInfo.id = 'hbx-info';
        chkInfo.checked = !!(localStorage.getItem('hbx-show-info') || '');
        const lblInfo = document.createElement('label');
        lblInfo.htmlFor = 'hbx-info';
        lblInfo.textContent = 'Show info';
        const chkAuto = document.createElement('input');
        chkAuto.type = 'checkbox';
        chkAuto.id = 'hbx-auto-open';
        chkAuto.checked = !!(localStorage.getItem('hbx-auto-open') || '');
        const lblAuto = document.createElement('label');
        lblAuto.htmlFor = 'hbx-auto-open';
        lblAuto.textContent = 'Auto open';
        filters.append(lblInfo, chkInfo, lblAuto, chkAuto);
        envInfo.append(env, filters);


        const tabs = document.createElement('div');
        tabs.className = 'tabs';
        const logsTab = document.createElement('div');
        logsTab.className = 'tab active';
        logsTab.textContent = 'Logs';
        logsTab.dataset.tab = 'logs';
        tabs.append(logsTab);


        const tabContent = document.createElement('div');
        tabContent.className = 'tab-content';
        const logsContent = document.createElement('div');
        logsContent.className = 'logs-content';
        tabContent.append(logsContent);

        panel.append(header, pageInfo, envInfo, tabs, tabContent);

        shadow.append(btnWrap, panel);

        const attach = () => { if (!document.body.contains(root)) document.body.appendChild(root); };
        if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', attach);
        else attach();

        let logs = [];
        let meta = null;
        const setLogs = (payload) => {
          if (payload) {
            logs = Array.isArray(payload.entries) ? payload.entries : [];
            meta = payload;
          } else {
            logs = [];
            meta = null;
          }
        };
        const shouldShowInfo = () => chkInfo.checked;
        const createMetaItem = (label, value, className = '') => {
          const item = document.createElement('div');
          item.className = 'meta-item';
          const labelEl = document.createElement('div');
          labelEl.className = 'meta-label';
          labelEl.textContent = label;
          const valueEl = document.createElement('div');
          valueEl.className = `meta-value ${className}`;
          valueEl.textContent = value || '(not set)';
          item.append(labelEl, valueEl);
          return item;
        };

        const render = () => {


          if (meta && meta.hugo) {
            const hv = meta.hugo.version || '';
            const gvRaw = meta.hugo.goVersion || '';
            const gv = gvRaw.replace(/^go/i, '');
            const tw = meta.modules && meta.modules.bloxTailwind ? meta.modules.bloxTailwind.version : '';
            env.textContent = `Hugo ${hv} Â· Go ${gv}${tw ? ` Â· blox-tailwind ${tw}` : ''}`;
          }


          pageMeta.replaceChildren();
          if (meta && meta.currentPage) {
            const page = meta.currentPage;
            pageMeta.append(
              createMetaItem('Type', page.type || 'unknown', 'type'),
              createMetaItem('Layout', page.layout || '(none)', 'layout'),
              createMetaItem('Kind', page.kind || 'unknown'),
              createMetaItem('Section', page.section || '(none)'),
              createMetaItem('Path', page.path || window.location.pathname),
              createMetaItem('File', page.file || '(virtual page)'),
              createMetaItem('Build ID', page.buildId || 'unknown')
            );
          } else {

            pageMeta.append(
              createMetaItem('Type', 'loading...', 'type'),
              createMetaItem('Layout', 'loading...', 'layout'),
              createMetaItem('Kind', 'loading...'),
              createMetaItem('Section', 'loading...'),
              createMetaItem('Path', window.location.pathname),
              createMetaItem('File', 'loading...'),
              createMetaItem('Build ID', 'loading...')
            );
          }


          const visible = logs.filter(e => e.level === 'error' || e.level === 'warn' || (e.level === 'info' && shouldShowInfo()));
          const errs = visible.filter(e => e.level === 'error').length;
          const warns = visible.filter(e => e.level === 'warn').length;
          const total = errs + warns + (shouldShowInfo() ? visible.filter(e => e.level === 'info').length : 0);
          badge.textContent = String(total);
          badge.hidden = total === 0;


          logsTab.textContent = `Logs${total > 0 ? ` (${total})` : ''}`;

          logsContent.replaceChildren();
          const groupByPage = new Map();
          for (const e of visible) {
            const key = e.page || '/';
            if (!groupByPage.has(key)) groupByPage.set(key, []);
            groupByPage.get(key).push(e);
          }
          for (const [page, entries] of groupByPage) {
            const h = document.createElement('div');
            h.className = 'page-group-header';
            h.textContent = page;
            logsContent.appendChild(h);
            for (const e of entries.sort((a, b) => (a.level > b.level ? -1 : 1) || (a.timestamp - b.timestamp))) {
              const row = document.createElement('div');
              row.className = `entry ${e.level}`;
              const lvl = document.createElement('div');
              lvl.className = 'lvl';
              lvl.textContent = e.level;
              const msg = document.createElement('div');
              msg.className = 'msg';
              msg.textContent = e.message || '';
              const metaEl = document.createElement('div');
              metaEl.className = 'meta';
              metaEl.textContent = new Date(e.timestamp * 1000).toLocaleTimeString();
              row.append(lvl, msg, metaEl);
              logsContent.appendChild(row);
            }
          }
        };

        const refreshFromWindow = () => {
          if (window.__HBX_LOGS__) {
            setLogs(window.__HBX_LOGS__);
          }
        };
        const fetchLogs = async () => {
          try {
            const res = await fetch('/hbx-debug.json?cb=' + Date.now());
            if (res.ok) { const data = await res.json(); setLogs(data); render(); }
          } catch (e) { }
        };

        btn.addEventListener('click', () => {
          panel.classList.toggle('open');
          if (panel.classList.contains('open')) {
            refreshFromWindow();
            render();
            fetchLogs();
          }
        });
        close.addEventListener('click', () => panel.classList.remove('open'));
        chkInfo.addEventListener('change', () => {
          localStorage.setItem('hbx-show-info', chkInfo.checked ? '1' : '');
          render();
        });
        chkAuto.addEventListener('change', () => {
          localStorage.setItem('hbx-auto-open', chkAuto.checked ? '1' : '');
        });


        refreshFromWindow();
        render();


        if (chkAuto.checked) {
          panel.classList.add('open');
          render();
          fetchLogs();
        }


        setInterval(() => { refreshFromWindow(); }, 3000);
      } catch (e) { }
    })();
  </script>
</body>

</html>